---
title: "Child document template"
format: html

execute:
  message: false
  warning: false
---

### Frequency table for variable: `r x`   

The frequency table for `r x` is displayed below.  

```{r}
#| echo: false
#| output: asis
# Output table -----------------------------------------------------------------
iris |>
    dplyr::count(!!rlang::ensym(x)) |>
    knitr::kable()
```


### Plot for variable: `r x`   

The plot for `r x` is displayed below.  

```{r}
#| echo: false
#| output: true
# Output histogram if variable is numeric and bar plot if otherwise ------------
library(ggplot2)

plot_iris <- function(x) {
  if (is.numeric(iris[[x]])) {
    iris |> 
      ggplot() +
      geom_histogram(aes(x = !!rlang::ensym(x))) +
      theme_minimal()
  } else {
    iris |> 
      ggplot() +
      geom_bar(aes(x = !!rlang::ensym(x))) +
      theme_minimal()
  }
}

print(plot_iris(x))
```